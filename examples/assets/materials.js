var D=Object.defineProperty;var E=(o,s,e)=>s in o?D(o,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):o[s]=e;var c=(o,s,e)=>(E(o,typeof s!="symbol"?s+"":s,e),e);import{I as b,S as w,d as I,at as G,a9 as R,C as f,M as C,b as k}from"./unzipit.module-zU76GtL2.js";import{g as T}from"./lil-gui.module.min-Bc0DeA9g.js";import{S as v}from"./stats.min-GTpOrGrX.js";import{b as z,E as A,C as L,S as U,a as W}from"./simple-camera-DTgrSlth.js";import{W as j,S as N}from"./index-BmMqtw4t.js";import"./_commonjsHelpers-Cpj98o6Y.js";const h=class h extends z{constructor(e){super(e);c(this,"enabled",!0);c(this,"_originalBackground",new Map);c(this,"onDisposed",new A);c(this,"list",{});c(this,"_originals",{});this.components.add(h.uuid,this)}set(e,t=Object.keys(this.list)){for(const a of t){const{material:y,meshes:_}=this.list[a];for(const n of _)if(e)this._originals[n.uuid]||(this._originals[n.uuid]={material:n.material}),n instanceof b&&n.instanceColor&&(this._originals[n.uuid].instances=n.instanceColor,n.instanceColor=null),n.material=y;else{if(!this._originals[n.uuid])continue;n.material=this._originals[n.uuid].material;const M=this._originals[n.uuid].instances;n instanceof b&&M&&(n.instanceColor=M)}}}dispose(){for(const e in this.list){const{material:t}=this.list[e];t.dispose()}this.list={},this._originals={},this.onDisposed.trigger(h.uuid),this.onDisposed.reset(),this._originalBackground.clear()}setBackgroundColor(e,t){const a=t.scene.three;a instanceof w&&(this._originalBackground.has(t.uuid)||this._originalBackground.set(t.uuid,a.background),this._originalBackground&&(a.background=e))}resetBackgroundColor(e){const t=e.scene.three;if(!(t instanceof w))return;const a=this._originalBackground.get(e.uuid);a&&(t.background=a)}addMaterial(e,t){if(this.list[e])throw new Error("This ID already exists!");this.list[e]={material:t,meshes:new Set}}addMeshes(e,t){if(!this.list[e])throw new Error("This ID doesn't exists!");for(const a of t)this.list[e].meshes.add(a)}removeMeshes(e,t){if(!this.list[e])throw new Error("This ID doesn't exists!");for(const a of t)this.list[e].meshes.delete(a)}};c(h,"uuid","24989d27-fa2f-4797-8b08-35918f74e502");let p=h;const O=document.getElementById("container"),l=new L,P=l.get(j),i=P.create();i.scene=new U(l);i.renderer=new N(l,O);i.camera=new W(l);l.init();i.camera.controls.setLookAt(13,13,13,0,0,0);i.scene.setup();const B=[],S=[],q=new I(2,2,2),F=new G(2,8,8),x=new R({color:"#6528D7"});function d(o){return Math.random()*o}function H(){for(let o=0;o<3;o++){const s=new k(q,x);s.position.x=d(10),s.position.y=d(10),s.position.z=d(10),s.updateMatrix(),i.scene.three.add(s),B.push(s)}}function J(){for(let o=0;o<3;o++){const s=new k(F,x);s.position.x=d(10),s.position.y=d(10),s.position.z=d(10),s.updateMatrix(),i.scene.three.add(s),S.push(s)}}H();J();const r=l.get(p),K=new f("white"),Q=new f(7460648),V=new C({color:Q}),X=new f(14100587),Y=new C({color:X});r.addMaterial("cubeMaterial",V);r.addMeshes("cubeMaterial",B);r.addMaterial("sphereMaterial",Y);r.addMeshes("sphereMaterial",S);const m=new T,g={changeSphereMaterial:()=>{r.set(!0,["sphereMaterial"])},changeCubeMaterial:()=>{r.set(!0,["cubeMaterial"])},changeBackground:()=>{r.setBackgroundColor(K,i)},reset:()=>{r.set(!1,["cubeMaterial","sphereMaterial"]),r.resetBackgroundColor(i)}};m.add(g,"changeSphereMaterial").name("Change Sphere Material");m.add(g,"changeCubeMaterial").name("Change Cube Material");m.add(g,"changeBackground").name("Change Background");m.add(g,"reset").name("Reset Material");const u=new v;u.showPanel(2);document.body.append(u.dom);u.dom.style.left="0px";i.renderer.onBeforeUpdate.add(()=>u.begin());i.renderer.onAfterUpdate.add(()=>u.end());
