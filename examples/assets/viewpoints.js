import{bm as w,V as a}from"./web-ifc-api-BlmMr04K.js";import{T as u,L as g,m as f}from"./index-C8nqhRYO.js";import{C,W as V,S as v,I as y,V as S,B as A}from"./index-BbAeqGYF.js";import{G as T}from"./index-BsNdHCFl.js";import{S as W,a as I}from"./simple-renderer-B7OGlKaA.js";import"./_commonjsHelpers-Cpj98o6Y.js";u.init();const p=document.createElement("bim-viewport"),o=new C,P=o.get(V),e=P.create();e.scene=new W(o);e.scene.setup();e.renderer=new I(o,p);e.camera=new v(o);const h=o.get(T);h.create(e);o.init();await e.camera.controls.setLookAt(12,6,8,0,2,-2);const r=o.get(y);await r.setup();const L=await fetch("https://thatopen.github.io/engine_components/resources/small.ifc"),G=await L.arrayBuffer(),k=new Uint8Array(G),s=await r.load(k);e.scene.three.add(s);const l=o.get(S),t=l.create(e,{title:"My Viewpoint"}),F=async()=>{console.log("Position before updating",t.position),t.updateCamera(),console.log("Position after updating",t.position)},M=async()=>{const n=new a;e.camera.controls.getPosition(n),console.log("Camera position before updating",n),await t.go(e);const i=new a;e.camera.controls.getPosition(i),console.log("Camera position before updating",i)};t.selectionComponents.add("2idC0G3ezCdhA9WVjWe","2idC0G3ezCdhA9WVjWe$Pp");const c=await s.getAllPropertiesOfType(w);if(c){const n=Object.values(c).map(b=>b.expressID),i=s.getFragmentMap(n);t.addComponentsFromMap(i)}const $=()=>{const n=t.selectionComponents,i=t.selection;console.log(n,i)},B=o.get(A),m=B.create();m.viewpoints.add(t.guid);const D=()=>{const n=[...m.viewpoints].map(i=>l.list.get(i));console.log(n)},R=g.create(()=>f`
    <bim-panel active label="Viewpoints Tutorial" class="options-menu">
      <bim-panel-section collapsed label="Controls">
        <bim-button @click=${F} label="Update Viewpoint Camera"></bim-button> 
        <bim-button @click=${M} label="Set World Camera"></bim-button>
        <bim-button @click=${$} label="Report Selection Components"></bim-button>
        <bim-button @click=${D} label="Report Topic Viewpoints"></bim-button>
      </bim-panel-section>
    </bim-panel>
    `);document.body.append(R);const d=document.getElementById("app");d.layouts={main:{template:'"viewport"',elements:{viewport:p}}};d.layout="main";
