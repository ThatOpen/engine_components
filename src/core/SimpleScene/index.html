<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link rel="stylesheet" href="../../../resources/styles.css">
  <link rel="icon" type="image/x-icon" href="../../../resources/favicon.ico">
  <title>Tools Component</title>
</head>
<body>
<div class="full-screen" id="container"></div>
<script type="importmap">
    {
      "imports": {
        "three": "https://unpkg.com/three@0.135.0/build/three.module.js",
        "stats.js/src/Stats.js": "https://unpkg.com/stats-js@1.0.1/src/Stats.js",
        "openbim-components": "../../../resources/openbim-components.js"
      }
    }


</script>
<script type="module">
	/*MD
  ### Let's create a 3D world! üåç
  The `SimpleScene` component is the easiest way to create a 3D space to start working.
  Let's start by importing Components and Three.js:
  */

	import * as THREE from 'three';
	import * as OBC from 'openbim-components';

	/*MD
  Now, the first step is getting a container for our viewer. üì¶
  This is just a place where the 3D scene will be rendered.
  In this example we have just added an HTML `div` element with
  the ID `"container"`.
  */

	const container = document.getElementById('container');

	/*MD
	 Now, let's create an awesome 3D scene inside that HTML element! üî•

  :::info Are you using a library/framework like React, Angular or vue?

  Then probably you have other mechanisms for getting a reference to the
  HTML div element. However you do it, as long as you get a reference
  in your code, you are good to go!

  :::

  ### Setting up a components project üß∞

  Next, we will instantiate the main object of the library: **[Components](../api/classes/components.Components)**. ü§ñ
  This object will keep track of all the components that you create, making them
  easily accessible in all your application and making sure to update them
  in each frame, so you don't have to worry about that. üí™
  */

	const components = new OBC.Components();

	/*MD
  Great! But this object needs 4 things to work:
  - üåç A **[scene component](../api/classes/components.SimpleScene)** where our objects will live in 3D.
  - ‚åö A **[renderer component](../api/classes/components.SimpleRenderer)** that allows us to see things moving around.
  - üé• A **[camera component](../api/classes/components.SimpleCamera)** that defines where we are and in that 3D world.
  - ‚ö° A **[raycaster component](../api/classes/components.SimpleRaycaster)** that makes it possible to interact with
  that 3D scene with our mouse / touch.
  */

	components.scene = new OBC.SimpleScene(components);
	components.renderer = new OBC.SimpleRenderer(components, container);
	components.camera = new OBC.SimpleCamera(components);
	components.raycaster = new OBC.SimpleRaycaster(components);

	/*MD
  Now that everything is set up, let's start the app! You can do that with the `init` method.
  It will start updating all the components at 60 fps, so that you don't have to worry about the
  animation loop: üöóüí®üí®üí®
  */

	components.init();

	/*MD
  And that's it! You already have set up 3D scene that can run on any device. Easy, right? ü•≥ But right now or scene
  is not very interesting, as it's only a infinite white void. Let's add some things to it! First, we need a reference
  to the scene, which you can get with the `get()` method. This method is present in all the components and is used to
  get the core of the component. We can do it like this:
  */

	const scene = components.scene.get();

	/*MD
  Great! Now we will make the background of our scene transparent. You don't have to do it; we are doing it because
  that way this app will be more integrated with the documentation page when setting it to light/dark mode.
  */

	scene.background = null;

	/*MD
  Now we will locate the camera in a nice starting position. We can control the `SimpleCamera` component through its
  `controls` attribute. This object is an instance of the [camera-controls](https://github.com/yomotsu/camera-controls)
  library, which makes it super easy to control the camera in our 3D scene. We will set the position of the camera
  to `[20, 20, 20]` and make it look at the origin (`[0, 0, 0]`).
  */

	components.camera.controls.setLookAt(20, 20, 20, 0, 0, 0);

	/*MD
  Awesome! We are now ready to start adding some objects. First, we will add a
  **[simple grid component](../api/classes/components.SimpleGrid)**. As the name implies, this component adds a simple
  2D grid to the scene that we can use as a reference. Don't forget to add it to the
  **[tools components](../api/classes/components.ToolComponents)** so that you can access it from anywhere in your
  application!

  For more information about the Tools component, check out [its own tutorial](./ToolsComponents.mdx)!
  */
	const grid = new OBC.SimpleGrid(components);
	components.tools.add(grid);

  /*MD
  Fantastic üöÄ Now we finally can see how we move around! Now, let's add some real geometry to our small 3D app. All
  the components are built on top of [Three.js](https://threejs.org/), which means that Three.js code will work natively
  with them. This is great, because you can easily integrate components with any 3D app that you create.

  Let's try it by adding a simple red cube:
  */

  const boxMaterial = new THREE.MeshStandardMaterial({ color: 'red' });
  const boxGeometry = new THREE.BoxGeometry(3, 3, 3);
	const cube = new THREE.Mesh(boxGeometry, boxMaterial);
	cube.position.set(0, 1.5, 0);
	scene.add(cube);

	/*MD
  Of course, everything is black because we have no lights! Let's fix it by adding some basic illumination:
  */

	const directionalLight = new THREE.DirectionalLight();
	directionalLight.position.set(5, 10, 3);
	directionalLight.intensity = 0.5;
	scene.add(directionalLight);

	const ambientLight = new THREE.AmbientLight();
	ambientLight.intensity = 0.5;
	scene.add(ambientLight);

	/*MD
And voil√†! You have made your first 3D application using components. Easy, right? Of course, this is still far from a
full-fledged BIM app, but don't worry! Keep following our tutorials and your app will go from zero to hero in no time! üöÄ
*/

</script>
</body>
</html>
